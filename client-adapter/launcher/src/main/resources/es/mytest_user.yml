dataSourceKey: defaultDS
destination: example
esMapping:
  _index: mdm_house
  _type: housebasicinfo
  _id: Id
#  pk: id

  # ***sql 务必让表和字段的大小写和数据库定义的一直，否则会出现一些问题。***
  sql: "SELECT
                  h.Id AS Id,
                  h.BuildingId,
                  h.HouseNum,
                  h.Floors,
                  h.IdProjectInfo,
                  h.HouseDigitNum,
                  b.BuildingNum,
                  b.BuildingName,
                  c.Name,
                  p.Id as projectid,
                  b.IdProjectInfo as bIdProjectInfo,
                  c.Id as cinitid,
                  p.CommunityId as pCommunityId
                FROM HouseBasicInfo h
                  LEFT JOIN BuildingBasicInfo b ON h.BuildingId = b.Id
                  LEFT JOIN CommunityProjectInfo p ON p.Id = b.IdProjectInfo
                  LEFT JOIN CommunityInitInfo c ON c.Id = p.CommunityId
        "
  #objFields:
  etlCondition: "where h.ModifiedOn>='{0}'"
  commitBatch: 3000


  enablefieldmap: true

  # ***fieldmap 的外键用keyword，如果用text会找不到，无法级联修改。***
  fieldmap:
    id: "keyword"
    BuildingId: "keyword"
    HouseNum: "text"
    Floors: "text"
    IdProjectInfo: "keyword"
    HouseDigitNum: "text"
    BuildingNum: "text"
    BuildingName: "text"
    Name: "text"
    projectid: "keyword"
    bIdProjectInfo: "keyword"
    cinitid: "keyword"
    pCommunityId: "keyword"

